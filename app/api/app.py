"""Экземпляр приложения FastAPI для ASGI-серверов.

Uvicorn/Gunicorn и другие ASGI-серверы ожидают импортируемый объект `app`.
Поэтому этот модуль максимально маленький:
- импортирует фабрику create_app(),
- создаёт приложение один раз на импорт.

В тестах мы обычно не используем этот модуль напрямую, а создаём приложение
через create_app(...) с подменёнными зависимостями.
"""

from __future__ import annotations

from .factory import create_app

app = create_app()

# Важно: переменная называется именно `app`, чтобы команды вида
# `uvicorn app.api.app:app` работали без дополнительной конфигурации.
